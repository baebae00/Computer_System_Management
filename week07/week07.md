# 20200994 배서은
**컴퓨터시스템관리 7주차 실습일지**

---
#### 7주차에는 
1. 리눅스에서 사용하는 셸에 대해 이해
2. 셸 스크립트를 이용하여 간단한 스크립트 작성
3. 예약 작업 설정
---

## 1. 실습과제 결과

* ### **유용한 bash script 를 하나 검색하여, 유용한 이유, 해당 스크립트 설명, 실행 결과 작성**
  
* ### **하드디스크 2개 추가(2GB, 3GB) / LV 4개 설정(1GB, 1GB, 2GB, 1GB)** <br>

  - bash 실행 후 지워질 파일 미리 생성

    ![지워질것2](https://user-images.githubusercontent.com/77660379/114817152-74ace100-9df4-11eb-9a66-28ed00b528aa.JPG)

  - '이 파일은 지워질 파일' 이라는 주석 추가

    ![지워질것3](https://user-images.githubusercontent.com/77660379/114817198-8b533800-9df4-11eb-8670-c3d36267ea3c.JPG)
    
  - 사용자로부터 파일이름을 입력받아 제거해주는 bash 생성

    ![만든것1](https://user-images.githubusercontent.com/77660379/114817223-95753680-9df4-11eb-8a5b-a1e94608f33b.JPG)

  - bash 실행 후 제거된 'delete.sh' 파일

    ![만든것2](https://user-images.githubusercontent.com/77660379/114817293-af167e00-9df4-11eb-8747-f5e5deb60baa.JPG)

## 2. 실습과제 Review

* ### **새로 배운 내용**
```
1. Shell
    => 사용자의 명령을 해석하여 커널에 전달
       Kernel & Shell

       Shell Script
       -> 명령어 집합
          과정이 복잡하여 하나라도 빠지면 문제가 생기거나, 매일 또는 주기적으로 해야 하는 명령의 집합
          시스템을 사용하여 환경 설정하는 경우, 애플리케이션을 설치할 경우, 매일 점검해야 하는 시스템 상태 체크 등


2. Shell - bash
    => bash (Bourne Again SHell)
          1998년, 브라이언 폭스Brain Fox가 발표한 유닉스 셸
          우분투에서 기본으로 사용하는 셸

       bash 특징
        -> alias 기능 (명령어 단축 기능)
           History 기능
           연산 기능
           Job Control 기능
           자동 이름 완성 기능
           프롬프트 제어 기능
           명령 편집 기능


3. 작업예약 - cron & at
     => 매일 새벽 5시에 중요한 log 파일을 백업해야 한다면?
        퇴근 후, 시스템을 최신 패키지로 업데이트 하고, 재부팅하고 싶다면?

        cron
        -> 주기적으로 반복되는 일을 자동으로 실행할 수 있도록 시스템 작업을 예약하는 것
           cron과 관련된 데몬(서비스)은 crond, 관련 파일은 /etc/crontab
            /etc/crontab의 형식
            -> 분 시 일 월 요일 사용자 실행명령

        at
        -> 일회성 작업을 예약하는 것
```

* ### **문제가 발생하거나 고민한 내용 + 해결 과정**

- **sdc1 오류**

    ![sdc1 입력 오류 해결](https://user-images.githubusercontent.com/77660379/113742174-4c125080-973d-11eb-9889-12e0102fbbb2.JPG)

    ![sdc1 입력 오류](https://user-images.githubusercontent.com/77660379/113741813-fb9af300-973c-11eb-8c11-dabf22d6c928.JPG)

    ```
    문제발생 및 고민한 내용 : sdc1 파티션 생성 오류

    해결 과정 : sdc1 생성시 설정을 잘못한 상태에서 저장해버림
               -> sdc1을 영구적으로 삭제한 후 sdc1을 새로 만들기로 결정함
               -> fdisk /dev/sdc > d > w 의 과정을 거쳐 파티션을 삭제해줌
               -> ls -l /dev/sd* 명령어를 통해 디스크 정보를 확인한 결과 sdc1이 삭제됨
               -> 강의 내용과 같은 sdc1을 새롭게 생성해줌
    ````

* ### **참고할 만한 내용**

[fdisk로 파티션 삭제하기](http://www.lionheart.pe.kr/index.php?mid=board_uFoa63&order_type=desc&page=3&document_srl=2113&sort_index=title)
```
Command(m for hep) : p
  => 현재 파티션 정보 확인

Command(m for hep) : d
  => 파티션 삭제 (번호 고르기 sdb 뒤에 나오는 숫자로 확인)

Command(m for hep) : n
  => 파티션을 전부 삭제한 후 n을 쳐서 새로운 파티션 생성

Command(m for hep) : l
  => 선택할 수 있는 파티션 타입 확인(ex. Linux, fat 등등)

Command(m for hep) : t
  => 파티션 넘버를 선택한 후 위에서 기억한 파티션 타입 입력

Command(m for hep) : w
  => 저장하고 나옴
```

* ### **회고 (+,-,!)**
```
1. 뿌듯했던 점 (+)
    => 오류가 많이 발생했지만 몇시간에 걸쳐 실습을 마무리한 것
          -> 컴시관 수업을 시작한 이후로 이번 6주차에 오류가 가장 많이 났다.
             실수로 sde1 파티션을 생성해주지 않고 헤맨 작은 오류부터 컴퓨터 자체가 먹통이 된 큰 오류까지 다양했다. 
             하지만 이러한 오류 하나하나를 그냥 넘기지 않고 해결방법을 스스로 찾아보려 애썼다.
             앞으로 남은 많은 주차들에서도 여러가지 오류가 발생할텐데, 해결하는 과정에 몇시간 씩 걸리더라도 스스로 해결해나갔으면 좋겠다. 

2. 보완할 점 (-)
    => 오류가 발생했을 때 초기화만이 답이 아니라는 것 기억하기
      -> 강의를 따라가다가 교수님의 실습 창과 다른, 오류 문구가 발생할 때마다 당황하면서 초기화부터 진행했다.
         때문에 이번 실습에서 서버를 몇 번이나 초기화했는 지 기억도 안난다.
         이렇듯 초기화를 최선의 방안이라 생각하고 실행한 이유는 오류 문구를 읽고 해결하려 들어도 명확한 해답이 나오지 않는 다는 점에서 였다.
         그러나 앞으로는 초기화 말고 터미널 창 안에서 해결 가능한 방안이 있다면 꼭 그렇게 실천하고 싶다.
         초기화 > 실습의 처음부터 따라가기 의 과정도 여러번 반복하다보니 쉽지않다.

3. 꼭 기억할 점 (!) 
    => "/" 입력 주의
       dev/sdb1 이런식으로 "/"가 빠져있으면 상대 경로를 나타냄
       그래서 현재 루트라는 디렉터리에서 dev를 찾게 됨
       때문에 /dev/sdb1 처럼 dev 앞에 "/" 기호를 써서 절대 경로로 시작함을 나타내줘야함